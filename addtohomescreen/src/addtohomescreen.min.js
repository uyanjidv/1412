!function(e,i,n){"use strict";var o,t={getSesssion:p,updateSessionProperty:d,updateSession:u,clearSession:function(){session=_defaultSession,u()},optOut:function(){d("optedout",!0)},optIn:function(){d("optedout",!1)},displayed:function(){var e=p();e.displayCount+=1,d("displayCount",e.displayCount)},clearDisplayCount:function(){d("displayCount",0)},version:"2.0.0"},s="a2hs-state",a={isCompatible:!1,nativePrompt:"onbeforeinstallprompt"in e};function r(e){o.logging&&(o.logger?o.logger.log(e):console.log(e))}function l(i){if(!i)return r("no service worker"),void(a.isCompatible=!1);!function(){var i=e.navigator.userAgent;a.isIDevice=/iphone|ipod|ipad/i.test(navigator.platform),a.isSamsung=/Samsung/i.test(i),a.isFireFox=/Firefox/i.test(i),a.isOpera=/opr/i.test(i),a.isEdge=/edg/i.test(i),a.isFireFox&&(a.isFireFox=/android/i.test(i));a.isOpera&&(a.isOpera=/android/i.test(i));a.isChromium="onbeforeinstallprompt"in e,a.isInWebAppiOS=!0===e.navigator.standalone,a.isInWebAppChrome=e.matchMedia("(display-mode: fullscreen)").matches||e.matchMedia("(display-mode: standalone)").matches||e.matchMedia("(display-mode: minimal-ui)").matches,a.isMobileSafari=a.isIDevice&&i.indexOf("Safari")>-1&&i.indexOf("CriOS")<0,a.isStandalone=a.isInWebAppiOS||a.isInWebAppChrome,a.isiPad=a.isMobileSafari&&i.indexOf("iPad")>-1,a.isiPhone=a.isMobileSafari&&-1===i.indexOf("iPad"),a.isCompatible=a.isChromium||a.isMobileSafari||a.isSamsung||a.isFireFox||a.isOpera||a.isIDevice}(),o.debug&&(a.isCompatible=!0),a.isCompatible&&o.onCanInstall&&o.onCanInstall(a,o)}function p(){return JSON.parse(localStorage.getItem(s))||_defaultSession}function d(e,i){var n=p();n[e]=i,u(n)}function u(e){localStorage.setItem(s,JSON.stringify(e))}"onbeforeinstallprompt"in e&&e.addEventListener("beforeinstallprompt",function(e){e.preventDefault(),console.log("capturing the native A2HS prompt"),a.beforeInstallPrompt=e,o.onBeforeInstallPrompt&&o.onBeforeInstallPrompt(a)}),"onappinstalled"in e&&e.addEventListener("appinstalled",function(e){r("a2hs"),o.onInstall&&o.onInstall(e)}),e.addToHomescreen=function(e){return o||((o=Object.assign({},t,e)).debug&&void 0===o.logging&&(o.logging=!0),"serviceWorker"in navigator?i.querySelector("[rel='manifest']")?navigator.serviceWorker.getRegistration().then(l):(r("no manifest file"),r("Add to homescreen: not displaying callout because no web manifest file present")):(r("service worker not supported"),r("Add to homescreen: not displaying callout because service workers are not supported"))),o}}(window,document);